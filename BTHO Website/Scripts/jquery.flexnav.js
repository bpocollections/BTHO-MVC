(function(){var t;(t=jQuery).fn.flexNav=function(e){var n,i,s,a,o,l,h,r,u,d,c;return r=t.extend({animationSpeed:250,transitionOpacity:!0,buttonSelector:".menu-button",hoverIntent:!1,hoverIntentTimeout:150,calcItemWidths:!1},e),(n=t(this)).addClass("with-js"),!0===r.transitionOpacity&&n.addClass("opacity"),n.find("li").each(function(){if(t(this).has("ul").length)return t(this).addClass("item-with-ul").find("ul").hide()}),!0===r.calcItemWidths&&(a=(i=n.find(">li")).length,o=100/a+"%"),n.data("breakpoint")&&(s=n.data("breakpoint")),u=function(){if(!0===n.hasClass("lg-screen"))return!0===r.transitionOpacity?t(this).find(">ul").addClass("flexnav-show").stop(!0,!0).animate({height:["toggle","swing"],opacity:"toggle"},r.animationSpeed):t(this).find(">ul").addClass("flexnav-show").stop(!0,!0).animate({height:["toggle","swing"]},r.animationSpeed)},l=function(){if(!0===n.hasClass("lg-screen")&&!0===t(this).find(">ul").hasClass("flexnav-show"))return!0===r.transitionOpacity?t(this).find(">ul").removeClass("flexnav-show").stop(!0,!0).animate({height:["toggle","swing"],opacity:"toggle"},r.animationSpeed):t(this).find(">ul").removeClass("flexnav-show").stop(!0,!0).animate({height:["toggle","swing"]},r.animationSpeed)},h=function(){var e;if(t(window).width()<=s)return n.removeClass("lg-screen").addClass("sm-screen"),!0===r.calcItemWidths&&i.css("width","100%"),e=r.buttonSelector+", "+r.buttonSelector+" .touch-button",t(e).removeClass("active"),t(".one-page li a").on("click",function(){return n.removeClass("flexnav-show")});if(t(window).width()>s){if(n.removeClass("sm-screen").addClass("lg-screen"),!0===r.calcItemWidths&&i.css("width",o),n.removeClass("flexnav-show").find(".item-with-ul").on(),t(".item-with-ul").find("ul").removeClass("flexnav-show"),l(),!0===r.hoverIntent)return t(".item-with-ul").hoverIntent({over:u,out:l,timeout:r.hoverIntentTimeout});if(!1===r.hoverIntent)return t(".item-with-ul").on("mouseenter",u).on("mouseleave",l)}},t(r.buttonSelector).data("navEl",n),c=".item-with-ul, "+r.buttonSelector,t(c).append('<span class="touch-button"><i class="fa fa-caret-down navicon">&nbsp;</i></span>'),d=r.buttonSelector+", "+r.buttonSelector+" .touch-button",t(d).on("click",function(e){var n,i;return t(d).toggleClass("active"),e.preventDefault(),e.stopPropagation(),i=r.buttonSelector,n=t(this).is(i)?t(this):t(this).parent(i),n.data("navEl").toggleClass("flexnav-show")}),t(".touch-button").on("click",function(e){var i,s;return i=t(this).parent(".item-with-ul").find(">ul"),s=t(this).parent(".item-with-ul").find(">span.touch-button"),!0===n.hasClass("lg-screen")&&t(this).parent(".item-with-ul").siblings().find("ul.flexnav-show").removeClass("flexnav-show").hide(),!0===i.hasClass("flexnav-show")?(i.removeClass("flexnav-show").slideUp(r.animationSpeed),s.removeClass("active")):!1===i.hasClass("flexnav-show")?(i.addClass("flexnav-show").slideDown(r.animationSpeed),s.addClass("active")):void 0}),n.find(".item-with-ul *").focus(function(){return t(this).parent(".item-with-ul").parent().find(".open").not(this).removeClass("open").hide(),t(this).parent(".item-with-ul").find(">ul").addClass("open").show()}),h(),t(window).on("resize",h)}}).call(this);